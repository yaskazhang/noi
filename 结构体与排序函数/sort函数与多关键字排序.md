# sort函数与多关键字排序

sort是C++算法库（algorithm）提供的快速排序函数，对指定数组中的元素 [first, last) 排序。时间复杂度为$N*log_2^{N}$

```C++
sort(first, last);  	//默认升序，按 "<" 排列元素
sort(first, last, cmp); //按cmp规定的规则排序
```

## sort函数示例

```c++
#include <bits/stdc++.h>
using namespace std;
int a[11]={0,3,4,2,7,4,1,8,12,9,6}; //对a[1]~a[10]排序
int n=10;

bool cmp(int a, int b)  //自定义比较函数 
{
	return a>b; 
}
int main()
{
	sort(a+1, a+1+n);  //默认升序
	for(int i=1;i<=n;++i) cout<<a[i]<<" "; cout<<endl;
	
	sort(a+6, a+1+n, cmp);  //对后半段a[6]~a[10]降序
	for(int i=1;i<=n;++i) cout<<a[i]<<" "; cout<<endl;
	
	return 0; 
}
```

其中自定义比较函数 `bool cmp(int a, int b)` 一定以`bool`作为返回类型，以数组元素类型做参数。其作用是，从待排序的数组中选择2个元素进行运算，如果函数返回值为真，则排序后第一个参数的元素放在前面，否则放在后面。

## 多关键字排序

利用sort函数的`cmp`，我们可以将复杂的排序规则写成函数

### 奖学金（ybt：1179）

某小学最近得到了一笔赞助，打算拿出其中一部分为学习成绩优秀的前5名学生发奖学金。期末，每个学生都有3门课的成绩:语文、数学、英语。先按总分从高到低排序，如果两个同学总分相同，再按语文成绩从高到低排序，如果两个同学总分和语文成绩都相同，那么规定学号小的同学排在前面，这样，每个学生的排序是唯一确定的。

任务：先根据输入的33门课的成绩计算总分，然后按上述规则排序，最后按排名顺序输出前五名名学生的学号和总分。注意，在前55名同学中，每个人的奖学金都不相同，因此，你必须严格按上述规则排序。例如，在某个正确答案中，如果前两行的输出数据(每行输出两个数:学号、总分) 是:

```
7 279
5 279
```

这两行数据的含义是:总分最高的两个同学的学号依次是7号、5号。这两名同学的总分都是 279 (总分等于输入的语文、数学、英语三科成绩之和) ，但学号为7的学生语文成绩更高一些。如果你的前两名的输出数据是:

```
5 279
7 279
```

则按输出错误处理，不能得分。

【输入】

包含n+1行：

第1行为一个正整数n（小于300），表示该校参加评选的学生人数。

第2到n+1行，每行有3个用空格隔开的数字，每个数字都在0到100之间。第j行的3个数字依次表示学号为 j−1 的学生的语文、数学、英语的成绩。每个学生的学号按照输入顺序编号为1∼n (恰好是输入数据的行号减1)。

【输出】

共有5行，每行是两个用空格隔开的正整数，依次表示前5名学生的学号和总分。

【输入样例】

```
8
80 89 89 
88 98 78
90 67 80
87 66 91
78 89 91
88 99 77
67 89 64
78 89 98
```

【输出样例】

```
8 265
2 264
6 264
1 258
5 258
```

#### 参考程序

```c++
#include <bits/stdc++.h>
using namespace std;
struct st{				//定义学生结构体 
	int id;
	int yw,sx,yy,zf;
}stu[301];
int n;
bool cmp(st a, st b)	
{
	if(a.zf!=b.zf)			//总分不同 
		return a.zf>b.zf; 	//总分高的在前 
	if(a.yw!=b.yw) 			//总分相同，语文成绩不同 
		return a.yw>b.yw; 	//语文成绩高的在前 
	return a.id<b.id;		//学号小的在前 
} 
int main()
{
	cin>>n;
	for(int i=1;i<=n;i++)
	{
		cin>>stu[i].yw>>stu[i].sx>>stu[i].yy;
		stu[i].id=i;
		stu[i].zf=stu[i].yw+stu[i].sx+stu[i].yy;
	}
	
	sort(stu+1,stu+n+1,cmp);
	//输出前5名 
	for(int i=1;i<=5;i++)
		cout<<stu[i].id<<" "<<stu[i].zf<<endl;
	return 0;
}
```



